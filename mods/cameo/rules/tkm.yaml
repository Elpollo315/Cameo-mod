
####################################################################################################
#		MCV
####################################################################################################

World:
	FactionCA@tkm:
		Name: (WIP) TKM
		InternalName: tkm
		Game: Red Alert 2
		Side: RA2 Mod
		Description: Hybridized paramilitary faction forged from the remnants of fragmented armies, known for its modular combat doctrine.
		
####################################################################################################
#		MPSTARTUNITS
####################################################################################################

	StartingUnits@mcvonlyratstkm:
		Class: none
		ClassName: MCV Only
		Factions: tkm
		BaseActor: tkmmcv
	StartingUnits@defaulttstkm:
		Class: light
		ClassName: Light Support
		Factions: tkm
		BaseActor: tkmmcv
		SupportActors: tse1,tse1,tse1,tse2,tse2,tssmech,tsmmch
	StartingUnits@heavytstkm:
		Class: heavy
		ClassName: Heavy Support
		Factions: tkm
		BaseActor: tkmmcv
		SupportActors: tse1,tse1,tse1,tse2,tse2,tssmech,tsmmch,tsmmch,tsmmch,tsmmch
		
#######################################
# TKM Defaults
#######################################

^TKMRenderVoxel:
	Inherits: ^RenderVoxel
	RenderVoxels:
		Scale: 10
		NormalsPalette: ts-normals
		PlayerPalette: playerra2
		LightAmbientColor: 0.6, 0.6, 0.6
		LightDiffuseColor: 0.4, 0.4, 0.4
		LightPitch: 142
		LightYaw: 682


####################################################################################################
#		TKM Upgrade and Inherits
####################################################################################################

upberezkacloak:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: Berezka Arsenal Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Commits to the Berezka Upgrade Tree, which focuses on cloak and hit and run units. Enables cloak for Basic Infantry Units and increase their movespeed.
		Prerequisites: ~tkmradar, ~!upberezkacloak, ~!uptitanarsenal, ~!upnatoarsenal
	RenderSprites:
		Image: berezkaupgradeicon
	ProvidesPrerequisite:

^upberezkacloakupgrade:
	GrantConditionOnPrerequisite@berezkacloak:
		Condition: upspeed
		Prerequisites: upberezkacloak
	SpeedMultiplier@berezkacloak:
		Modifier: 150
		RequiresCondition: upspeed
	ActorStatValues:
		Upgrades: upberezkacloak

uptitanarsenal:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: Titan Arsenal Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Commits to the Titan Arsenal Upgrade Tree, which utilizes heavy duty arsenal. Enables Basic Infantry Units to have Lightweight ballistic plating.
		Prerequisites: ~tkmradar, ~!uptitanarsenal, ~!upberezkacloak, ~!upnatoarsenal
	ProvidesPrerequisite:
	RenderSprites:
		Image: titanplatingupgradeicon

^uptitanarsenalupgrade:
	GrantConditionOnPrerequisite@titanplating:
		Condition: upspeed
		Prerequisites: uptitanarsenal
	DamageMultiplier@titanplatinghealth:
		Modifier: 150
		RequiresCondition: upspeed
	SpeedMultiplier@titanplatingspeed:
		Modifier: 70
		RequiresCondition: upspeed
	ActorStatValues:
		Upgrades: uptitanarsenal

upnatoarsenal:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: NATO Arsenal Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Commits to the NATO Arsenal Upgrade Tree, which utilizes specialized units to defeat enemies.
		Prerequisites: ~tkmradar, ~!uptitanarsenal, ~!upberezkacloak, ~!upnatoarsenal
	ProvidesPrerequisite:
	RenderSprites:
		Image: natoupgradeicon

upm16m203:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: M203 Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Gives the troopers grenade launchers.
		Prerequisites: ~tkmtechcenter,  ~upnatoarsenal, ~!upm16m203
	ProvidesPrerequisite:
	RenderSprites:
		Image: upm16m203

upsemiautorifles:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: Semi Auto Rifles Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Changes Riflemen Arsenal to SKS Rifles.
		Prerequisites: ~tkmtechcenter, ~!upsemiautorifles, ~upberezkacloak
	ProvidesPrerequisite:
	RenderSprites:
		Image: tkmsemiicon

^upsemiautorifles:
	ActorStatValues:
		Upgrades: upberezkacloak, upsemiautorifles

uptwinrockets:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: Twin Rockets Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Changes Rocketeer Arsenal to modified dual RPG.
		Prerequisites: ~tkmtechcenter, ~!uptwinrockets, ~upberezkacloak
	ProvidesPrerequisite:
	RenderSprites:
		Image: tkmtwinrocketlauncher

^uptwinrockets:
	ActorStatValues:
		Upgrades: upberezkacloak, uptwinrockets

uptkmapbullets:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: Armor Piercing Bullets Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Changes Juggernauts' Ammo to APFSDS Armor Piercing Rounds.
		Prerequisites: ~tkmtechcenter, ~!uptkmapbullets, ~uptitanarsenal
	ProvidesPrerequisite:
	RenderSprites:
		Image: tkmapbullets

^uptkmapbullets:
	ActorStatValues:
		Upgrades: uptitanarsenal, uptkmapbullets

upincendiaryrockets:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: Incendiary Rockets Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Changes Rocketeer Arsenal to incendiary rockets.
		Prerequisites: ~tkmtechcenter, ~!upincendiaryrockets, ~uptitanarsenal
	ProvidesPrerequisite:
	RenderSprites:
		Image: tkmincendiaryrockets

^upincendiaryrockets:
	ActorStatValues:
		Upgrades: uptitanarsenal, upincendiaryrockets

upcryorockets:
	Inherits: ^researched_upgrade.template
	Tooltip:
		Name: Cryo Rockets Upgrade
	Valued:
		Cost: 2400
	Buildable:
		BuildPaletteOrder: 80
		Queue: Addons
		Description: Changes Rocketeer Arsenal to Cryo Rockets.
		Prerequisites: ~tkmtechcenter, ~!upcryorockets, ~upnatoarsenal
	ProvidesPrerequisite:
	RenderSprites:
		Image: cryorocketicon

#######################################
# TKM MCV and Construction Yard
#######################################

tkmmcv:
	Inherits: ^Vehicle
	Inherits@Template: ^SupportVehicleTemplate
	Inherits@selection: ^SelectableSupportUnit
	Inherits@mcv: ^MCV
	Buildable:
		Queue: Vehicle, RAVehicle
		Prerequisites: ~tkmfactory
		Description: Builds structures.
	Tooltip:
		Name: Mobile Construction Vehicle (TKM)
	Transforms:
		IntoActor: tkmcommandcenter
		Offset: -1,-1
		Facing: 432
		TransformSounds: tsplace2.aud
		NoTransformNotification: BuildingCannotPlaceAudio
	SelectionDecorations:
	ActorStatValues:
		Upgrades: upberezkacloak,  uptitanarsenal, upnatoarsenal
	Voiced:
		VoiceSet: TSVehicle
	RenderSprites:
		Image: tkmmcv
		PlayerPalette: playerra2

tkmcommandcenter:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x2Shape
	Inherits@aicash: ^AIConyardCash
	Inherits@conyard: ^Conyard
	Inherits@sell: ^TDSpawnActorsOnSell
	Tooltip:
		Name: TKM Construction Yard
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 2048, 2048
		DecorationBounds: 2048, 2048
	SelectionDecorations:
	Transforms:
		IntoActor: tkmmcv
	ProvidesPrerequisite@buildingname:
	Targetable@TechStealerInfiltrate:
		TargetTypes: TechStealerInfiltrate
	ActorStatValues:
		Upgrades: upberezkacloak,  uptitanarsenal, upnatoarsenal
	WithBuildingPlacedOverlay@Front:
		Sequence: idle-front
	RenderSprites:
		PlayerPalette: playerra2

#######################################
# TKM Buildings
#######################################

tkmpowerplant:
	Inherits: ^BaseBuilding
	Inherits@shape: ^3x3Shape
	Inherits@power: ^PowerPlant
	Inherits@storage: ^StoresResources
	Tooltip:
		Name: Power Plant
	Valued:
		Cost: 400
	Power:
		Amount: 200
	ProvidesPrerequisite@buildingname:
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: ~tkmcommandcenter
		Queue: Building, RABuilding
		Description: Provides supply and stores resources
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 250,-512,0
	Health:
		HP: 100000
	RevealsShroud:
		Range: 4c0
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		PipCount: 10
		FullSequence: pip-yellow
	RenderSprites:
		PlayerPalette: playerra2

tkmrefinery:
	Inherits: ^RA2Building
	Inherits@sell: ^RA2SSpawnActorsOnSell
	Inherits@ref: ^Refinery
	Inherits@shape: ^2x2Shape
	Tooltip:
		Name: TKM Ore Refinery
	Buildable:
		BuildPaletteOrder: 11
		Prerequisites: ~tkmcommandcenter, tkmpowerplant
	Building:
		Footprint: xxx= xxx= xxx=
		Dimensions: 4,3
	Refinery:
	DockHost:
		Type: Unload
		DockAngle: 640
		DockOffset: 1086,1086,0
	DrawLineToTarget:
	FreeActor:
		Actor: tkmharv
		SpawnOffset: 2,2
		Facing: 256
	SelectionDecorations:
	GivesBuildableArea:
		AreaTypes: building, cityi
	RenderSprites:
		PlayerPalette: player_rgba

tkmbarracks:
	Inherits: ^RA2Building
	Inherits@shape: ^3x2Shape
	Inherits@sell: ^RA2ASpawnActorsOnSell
	Inherits@CPQWP: ^CPQConditionWithPrimary
	Inherits@barr: ^IsBarrack
	Tooltip:
		Name: TKM Barracks
	ProvidesPrerequisite:
		Prerequisite: RA2Barracks
	Buildable:
		BuildPaletteOrder: 13
		Prerequisites: ~tkmcommandcenter, tkmpowerplant
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	RallyPoint:
		Path: 0,2
	Exit@1:
		SpawnOffset: -700,800,0
		ExitCell: 0,2
	Exit@2:
		SpawnOffset: 100,1200,0
		ExitCell: 1,3
	SelectionDecorations:
	GivesBuildableArea:
		AreaTypes: building, cityi
	WithDeathAnimation:
		DeathSequencePalette: playerra2
		DeathPaletteIsPlayerPalette: true

tkmfactory:
	Inherits: ^BaseBuilding
	Inherits@sell: ^TSSpawnActorsOnSell
	Inherits@shape: ^4x3Shape
	Inherits@CPQWP: ^CPQConditionWithPrimary
	Inherits@weap: ^IsWeaponFactory
	Inherits@prod: ^ProducesUnits
	Inherits@shape: ^3x4Shape
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Valued:
		Cost: 2000
	Tooltip:
		Name: War Factory
	ProvidesPrerequisite@buildingname:
	Buildable:
		BuildPaletteOrder: 14
		Prerequisites: ~tkmcommandcenter, tkmbarracks
		Queue: Building, RABuilding
		Description: Produces vehicles
	Building:
		Footprint: xx= x== ===
		Dimensions: 3,3
		LocalCenterOffset: 250,-600,0
	Selectable:
		Bounds: 2048, 2048
		DecorationBounds: 2048, 2048
	SelectionDecorations:
	RevealsShroud:
		Range: 4c0
	RallyPoint:
		Path: 0,2
	Exit@1:
		SpawnOffset: 0,1200,0
		ExitCell: 2,2
		ExitDelay: 3
	ParallelProductionQueue@VEHICLE:
	ProductionBar@VEHICLEGDI:
		ProductionType: Vehicle
		RequiresCondition: !classicproductionqueues
	ProductionBar@RAVEHICLEGDI:
		ProductionType: RAVehicle
		RequiresCondition: classicproductionqueues
	Power:
		Amount: -40
	ProvidesPrerequisite@buildingname:
	WithExitOverlay@DOOR:
		RequiresCondition: !build-incomplete
		Sequence: build-door
	RenderSprites:
		Image: tkmfactory
		PlayerPalette: playerra2

tkmairpad:
	Inherits: ^BaseBuilding
	Inherits@sell: ^TSSpawnActorsOnSell
	Inherits@shape: ^4x3Shape
	Inherits@CPQWP: ^CPQConditionWithPrimary
	Inherits@hpad: ^IsAircraftFactory
	Inherits@prod: ^ProducesUnits
	Inherits@shape: ^3x4Shape
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Valued:
		Cost: 2000
	Tooltip:
		Name: Air Pad
	ProvidesPrerequisite@buildingname:
	Buildable:
		BuildPaletteOrder: 16
		Prerequisites: ~tkmcommandcenter, tkmradar
		Queue: Building, RABuilding
		Description: Produces vehicles
	Building:
		Footprint: xx= x== ===
		Dimensions: 3,3
		LocalCenterOffset: 0,512,0
	Selectable:
		Bounds: 1280, 1280
		DecorationBounds: 1280, 1024
	SelectionDecorations:
	RevealsShroud:
		Range: 4c0
	WithMakeAnimation:
	RallyPoint:
		Path: 0,2
	Exit@1:
		SpawnOffset: 0,0,0
		ExitCell: 2,1
		ExitDelay: 3
	Power:
		Amount: -40
	ProvidesPrerequisite@buildingname:
	RenderSprites:
		Image: tkmairpad
		PlayerPalette: player_rgba

tkmradar:
	Inherits: ^BaseBuilding
	Inherits@sell: ^TSSpawnActorsOnSell
	Inherits@radar: ^RadarBuilding
	Inherits@shape: ^1x1Shape
	Selectable:
		Bounds: 2048, 2048
	Buildable:
		Queue: Building, RABuilding
		BuildPaletteOrder: 15
		Prerequisites: ~tkmcommandcenter, tkmfactory
		Description: Provides TKM technologies.
	Production@Addons:
		Produces: Addons
	ProductionBar@Addons:
		ProductionType: Addons
	Tooltip:
		Name: TKM Observation Van
	Selectable:
		Bounds: 2048, 2048
	Building:
		Footprint: xx
		Dimensions: 2,1
		LocalCenterOffset: 0,0,0
	ProvidesPrerequisite:
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	RenderSprites:
		PlayerPalette: playerra2
		Scale: 1.5

tkmtechcenter:
	Inherits: ^BaseBuilding
	Inherits@sell: ^TSSpawnActorsOnSell
	Inherits@tech: ^IsTechnoBuilding
	Inherits@shape: ^3x4Shape
	Selectable:
		Bounds: 2048, 2048
	Buildable:
		Queue: Building, RABuilding
		BuildPaletteOrder: 17
		Prerequisites: ~tkmcommandcenter, tkmradar
		Description: Provides advanced TKM technologies.
	Production@Addons:
		Produces: Addons
	ProductionBar@Addons:
		ProductionType: Addons
	Tooltip:
		Name: TKM Tech Center
	Selectable:
		Bounds: 2048, 2048
	Building:
		Footprint: xx
		Dimensions: 2,1
		LocalCenterOffset: 0,0,0
	ProvidesPrerequisite:
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	RenderSprites:
		PlayerPalette: playerra2

tkmguardtower:
	Inherits: ^Defense
	Inherits@Template: ^BasicDefenseTemplate
	Inherits@exp: ^GainsExperienceTDBuilding
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@EMP: ^TurretEMP
	Inherits@AntiInf: ^PrioritizeInfantry
	Inherits@shape: ^1x1Shape
	Valued:
		Cost: 500
	Tooltip:
		Name: TKM Guard Tower
	Buildable:
		BuildPaletteOrder: 40
		Prerequisites: ~tkmcommandcenter, tkmbarracks
		Queue: Defence, RADefence
		Description: template-anti-infantry-defense.description
	Building:
	Health:
		HP: 60000
	WithBuildingBib:
		HasMinibib: true
	Armament:
		Weapon: HighV
		LocalOffset: 256,0,256
		MuzzleSequence: muzzle
		RequiresCondition: !up_armorpiercingbullets
	Armament@Upgrade:
		Weapon: HighVAP
		LocalOffset: 256,0,256
		MuzzleSequence: muzzle
		RequiresCondition: up_armorpiercingbullets
	AttackTurreted:
		RequiresCondition: !build-incomplete
	BodyOrientation:
		QuantizedFacings: 8
	WithMuzzleOverlay:
	Turreted:
		TurnSpeed: 1023
	Power:
		Amount: -25
	RevealsShroud:
		Range: 6720
	RenderSprites:
		PlayerPalette: playerd2k

#######################################
# TKM Infantry Reporting!
#######################################

tkmrifleman:
	Inherits: ^Soldier
	Inherits@Template: ^ScoutInfantryTemplate
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DECORATIONS: ^InfantryExperienceHospitalHazmatOverrides
	Inherits@anim: ^TSInfantry
	Inherits@vo: ^AttackFrontalVoice
	Inherits@AntiInf: ^PrioritizeInfantry
	Inherits@speed: ^upberezkacloakupgrade
	Valued:
		Cost: 120
	Tooltip:
		Name: Rifleman
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: ~tkmbarracks, ~!uptitanarsenal, ~!upberezkacloak, ~!upnatoarsenal
		Queue: Infantry, RAInfantry
		IconPalette: ra2
		Description: General-purpose infantry.\n  Strong vs Infantry\n  Weak vs Vehicles
	Mobile:
		Speed: 60
	Health:
		HP: 16000
	ChangesHealth@SelfHealing:
		Step: 16
	AutoTarget:
		ScanRadius: 4
	Armament@PRIMARY:
		Weapon: NaxiRifle
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	Armament@ELITE:
		Weapon: NaxiRifle
		RequiresCondition: rank-elite
		LocalOffset: 500,0,400
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: NaxiRifle
	GrantConditionOnPrerequisite@cloakon:
		Condition: upberezkacloak
		Prerequisites: upberezkacloak
	Cloak:
		RequiresCondition: upberezkacloak
	# Selectable:
	# 	Bounds: 256, 512
	# 	DecorationBounds: 256, 512
	# Inherits@EXT: ^ExternalConditions ##########
	# AcceptsDeliveredExperience: ##########
	# 	ValidTypes: infantry ##########
	ActorStatValues:
		Upgrades: upberezkacloak, uptitanarsenal, upnatoarsenal
	Voiced:
		VoiceSet: TSInfantry
	RenderSprites:
		PlayerPalette: playerra2
	WithDeathAnimation:
		DeathSequencePalette: ra2player
		CrushedSequencePalette: ra2effect

tkmriflemancamo:
	Inherits: tkmrifleman
	Inherits@speed: ^upberezkacloakupgrade
	Buildable:
		Prerequisites: ~tkmbarracks, ~upberezkacloak, ~!upsemiautorifles
	Tooltip:
		Name: Rifleman (Camo)
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmrifleman

tkmriflecamosemiauto:
	Inherits: tkmriflemancamo
	Inherits@speed: ^upsemiautorifles
	Buildable:
		Prerequisites: ~tkmbarracks, ~upsemiautorifles
	Tooltip:
		Name: Rifleman (Camo & Semi Auto)
	Valued:
		Cost: 200
	Armament@PRIMARY:
		Weapon: tkmriflemansemiautorifle
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	Armament@ELITE:
		Weapon: tkmriflemansemiautorifle
		RequiresCondition: rank-elite
		LocalOffset: 500,0,400
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: tkmriflemansemiautorifle
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmrifleman

tkmjug:
	Inherits: ^Soldier
	Inherits@Template: ^ScoutInfantryTemplate
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DECORATIONS: ^InfantryExperienceHospitalHazmatOverrides
	Inherits@anim: ^TSInfantry
	Inherits@vo: ^AttackFrontalVoice
	Inherits@AntiInf: ^PrioritizeInfantry
	Valued:
		Cost: 400
	Tooltip:
		Name: Juggernaut (Titan Plating)
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: ~tkmbarracks, ~uptitanarsenal, ~!uptkmapbullets
		Queue: Infantry, RAInfantry
		IconPalette: ra2
		Description: General-purpose infantry.\n  Strong vs Infantry\n  Weak vs Vehicles
	Mobile:
		Speed: 60
	Health:
		HP: 36000
	ChangesHealth@SelfHealing:
		Step: 16
	AutoTarget:
	Armament@PRIMARY:
		Weapon: RA2GattlingInf
		LocalOffset: 544,100,256
	Armament@GARRISONED:
		Weapon: RA2GattlingInf
		Name: garrisoned
	ReloadDelayMultiplier@GattlingSpeed1:
		RequiresCondition: gatling >= 1
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed2:
		RequiresCondition: gatling >= 2
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed3:
		RequiresCondition: gatling >= 3
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed4:
		RequiresCondition: gatling >= 4
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed5:
		RequiresCondition: gatling >= 5
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed6:
		RequiresCondition: gatling >= 6
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed7:
		RequiresCondition: gatling >= 7
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed8:
		RequiresCondition: gatling >= 8
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed9:
		RequiresCondition: gatling >= 9
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed10:
		RequiresCondition: gatling >= 10
		Modifier: 90
	GrantConditionOnAttack@gatling:
		Condition: gatling
		RequiredShotsPerInstance: 1,2,3,4,5,6,7,8,9,10
		RevokeDelay: 250
		MaximumInstances: 5
	GrantConditionOnAttack@elitegatling:
		Condition: gatling
		RequiredShotsPerInstance: 1,2,3,4,5,6,7,8,9,10
		RevokeDelay: 250
		MaximumInstances: 5
	AttackFrontal:
		FacingTolerance: 2
	# Selectable:
	# 	Bounds: 256, 512
	# 	DecorationBounds: 256, 512
	# Inherits@EXT: ^ExternalConditions ##########
	# AcceptsDeliveredExperience: ##########
	# 	ValidTypes: infantry ##########
	ActorStatValues:
		Upgrades: uptitanarsenal
	Voiced:
		VoiceSet: TSInfantry
	RenderSprites:
		PlayerPalette: playerra2
	WithDeathAnimation:
		DeathSequencePalette: ra2player
		CrushedSequencePalette: ra2effect

tkmjugap:
	Inherits: tkmjug
	Inherits@speed: ^uptkmapbullets
	Buildable:
		Prerequisites: ~tkmbarracks, ~uptkmapbullets
	Tooltip:
		Name: Juggernaut (Titan Plating & AP Bullets)
	Armament@PRIMARY:
		Weapon: tkmjuggap
		LocalOffset: 544,100,256
	Armament@GARRISONED:
		Weapon: tkmjuggap
		Name: garrisoned
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmjug

tkmtrooper:
	Inherits: ^Soldier
	Inherits@anim: ^TDRAInfantry
	Inherits@Template: ^ScoutInfantryTemplate
	Inherits@EXP: ^GainsExperienceTD
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@DECORATIONS: ^InfantryExperienceHospitalHazmatOverrides
	Inherits@AntiInf: ^PrioritizeInfantry
	Valued:
		Cost: 160
	Buildable:
		BuildPaletteOrder: 1
		Prerequisites: ~tkmbarracks, ~upnatoarsenal, ~!upm16m203
		Queue: Infantry, RAInfantry
		IconPalette: ra2
	Tooltip:
		Name: Trooper
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		Speed: 60
	Health:
		HP: 16000
	ChangesHealth@SelfHealing:
		Step: 16
	Armament@PRIMARY: ##########
		Weapon: tkmm16
		LocalOffset: 128,0,256
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: tkmm16
		MuzzleSequence: garrison-muzzle
	ActorStatValues:
		Upgrades: upnatoarsenal, upm16m203
	WithInfantryBody:
		IdleSequences: idle1,idle2
		RequiresCondition: !parachute
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	WithDeathAnimation:
		DeathSequencePalette: raplayer
	RenderSprites:
		Image: tkmtrooper
		PlayerPalette: playerra2

tkmtrooperm203:
	Inherits: ^Soldier
	Inherits@anim: ^TDRAInfantry
	Inherits@Template: ^ScoutInfantryTemplate
	Inherits@EXP: ^GainsExperienceTD
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@DECORATIONS: ^InfantryExperienceHospitalHazmatOverrides
	Inherits@AntiInf: ^PrioritizeInfantry
	Valued:
		Cost: 200
	Buildable:
		BuildPaletteOrder: 1
		Prerequisites: ~tkmbarracks, ~upm16m203
		Queue: Infantry, RAInfantry
		IconPalette: ra2
	Tooltip:
		Name: Trooper (M203)
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		Speed: 60
	Health:
		HP: 16000
	ChangesHealth@SelfHealing:
		Step: 16
	Armament@PRIMARY: ##########
		Weapon: tkmm16
		LocalOffset: 128,0,256
	Armament@SECONDARY:
		Weapon: tkmm203
		LocalOffset: 0,0,427
		FireDelay: 15
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: tkmm16
		MuzzleSequence: garrison-muzzle
	ActorStatValues:
		Upgrades: upnatoarsenal, upm16m203
	WithInfantryBody:
		IdleSequences: idle1,idle2
		RequiresCondition: !parachute
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	WithDeathAnimation:
		DeathSequencePalette: raplayer
	RenderSprites:
		Image: tkmtrooper
		PlayerPalette: playerra2

tkmrocketeer:
	Inherits: ^Soldier
	Inherits@Template: ^ScoutInfantryTemplate
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DECORATIONS: ^InfantryExperienceHospitalHazmatOverrides
	Inherits@anim: ^TSInfantry
	Inherits@vo: ^AttackFrontalVoice
	Inherits@AntiInf: ^PrioritizeInfantry
	Inherits@speed: ^upberezkacloakupgrade
	Valued:
		Cost: 120
	Tooltip:
		Name: Rocketeer
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 11
		Prerequisites: ~tkmbarracks, ~!uptitanarsenal, ~!upberezkacloak, ~!upcryorockets
		Queue: Infantry, RAInfantry
		IconPalette: ra2
		Description: General-purpose infantry.\n  Strong vs Infantry\n  Weak vs Vehicles
	Mobile:
		Speed: 60
	Health:
		HP: 9000
	ChangesHealth@SelfHealing:
		Step: 16
	AutoTarget:
		ScanRadius: 4
	Armament@PRIMARY:
		Weapon: Rockets
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	Armament@ELITE:
		Weapon: Rockets
		RequiresCondition: rank-elite
		LocalOffset: 500,0,400
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: Rockets
	GrantConditionOnPrerequisite@cloakon:
		Condition: upberezkacloak
		Prerequisites: upberezkacloak
	Cloak:
		RequiresCondition: upberezkacloak
	# Selectable:
	# 	Bounds: 256, 512
	# 	DecorationBounds: 256, 512
	# Inherits@EXT: ^ExternalConditions ##########
	# AcceptsDeliveredExperience: ##########
	# 	ValidTypes: infantry ##########
	ActorStatValues:
		Upgrades: upberezkacloak, uptitanarsenal, upnatoarsenal
	Voiced:
		VoiceSet: TSInfantry
	RenderSprites:
		PlayerPalette: playerra2
	WithDeathAnimation:
		DeathSequencePalette: ra2player
		CrushedSequencePalette: ra2effect

tkmrocketeercamo:
	Inherits: tkmrocketeer
	Inherits@speed: ^upberezkacloakupgrade
	Tooltip:
		Name: Rocketeer (Camo)
	Health:
		HP: 9000
	Buildable:
		Prerequisites: ~tkmbarracks, ~upberezkacloak, ~!uptwinrockets
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmrocketeer

tkmrocketeertitan:
	Inherits: tkmrocketeer
	Inherits@speed: ^uptitanarsenalupgrade
	Buildable:
		Prerequisites: ~tkmbarracks, ~uptitanarsenal, ~!upincendiaryrockets
	Tooltip:
		Name: Rocketeer (Titan Plating)
	Health:
		HP: 15000
	Mobile:
		Speed: 50
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmrocketeer

tkmrocketeertwinrockets:
	Inherits: tkmrocketeer
	Inherits@speed: ^uptwinrockets
	Tooltip:
		Name: Rocketeer (Camo & Twin Rockets)
	Health:
		HP: 9000
	Armament@PRIMARY:
		Weapon: tkmtwinrockets
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	Armament@ELITE:
		Weapon: tkmtwinrockets
		RequiresCondition: rank-elite
		LocalOffset: 500,0,400
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: tkmtwinrockets
	Buildable:
		Prerequisites: ~tkmbarracks, ~uptwinrockets, ~!~uptitanarsenal
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmrocketeer

tkmrocketeerincendiary:
	Inherits: tkmrocketeer
	Inherits@speed: ^upincendiaryrockets
	Tooltip:
		Name: Rocketeer (Plating & Incendiary Rockets)
	Health:
		HP: 15000
	Armament@PRIMARY:
		Weapon: tkmfirerockets
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	Armament@ELITE:
		Weapon: tkmfirerockets
		RequiresCondition: rank-elite
		LocalOffset: 500,0,400
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: tkmfirerockets
	Buildable:
		Prerequisites: ~tkmbarracks, ~upincendiaryrockets, ~!~upberezkacloak
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmrocketeer

tkmrocketeercryo:
	Inherits: tkmrocketeer
	Tooltip:
		Name: Rocketeer (Cryo Rockets)
	Health:
		HP: 9000
	Buildable:
		Prerequisites: ~tkmbarracks, ~upcryorockets
	Armament@PRIMARY:
		Weapon: tkmcryorockets
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	Armament@ELITE:
		Weapon: tkmcryorockets
		RequiresCondition: rank-elite
		LocalOffset: 500,0,400
	Armament@GARRISONED: ##########
		Name: garrisoned
		Weapon: tkmcryorockets
	ActorStatValues:
		Upgrades: upnatoarsenal, upcryorockets
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmrocketeer

tkmengineer:
	Inherits: E6
	Inherits@speed: ^upberezkacloakupgrade
	Buildable:
		Prerequisites: ~tkmbarracks, ~!uptitanarsenal, ~!upberezkacloak, ~!upnatoarsenal
		Queue: Infantry, RAInfantry
	Tooltip:
		Name: Engineer
	Voiced:
		VoiceSet: TSEngineer
	DeliversCash:
		Payload: 250
	RenderSprites:
		PlayerPalette: playerra2
	WithDeathAnimation:
		DeathSequencePalette: ra2player
		CrushedSequencePalette: ra2effect
	ActorStatValues:
		Upgrades: upberezkacloak,  uptitanarsenal, upnatoarsenal
	GrantConditionOnPrerequisite@cloakon:
		Condition: upberezkacloak
		Prerequisites: upberezkacloak
	Cloak:
		RequiresCondition: upberezkacloak
	RenderSprites:
		PlayerPalette: playerra2

tkmengineercamo:
	Inherits: tkmengineer
	Inherits@speed: ^upberezkacloakupgrade
	Tooltip:
		Name: Engineer (Camo)
	Buildable:
		Prerequisites: ~tkmbarracks, ~upberezkacloak
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmengineer

tkmengineertitan:
	Inherits: tkmengineer
	Inherits@speed: ^uptitanarsenalupgrade
	Buildable:
		Prerequisites: ~tkmbarracks, ~uptitanarsenal
	Tooltip:
		Name: Engineer (Titan Plating)
	Health:
		HP: 15000
	Mobile:
		Speed: 50
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmengineer

tkmengineernato:
	Inherits: tkmengineer
	Tooltip:
		Name: Engineer (NATO)
		Description: Can deploy drones.
	Buildable:
		Prerequisites: ~tkmbarracks, ~upnatoarsenal
	GrantConditionOnDeploy:
		DeployedCondition: summon
		SkipMakeAnimation: true
		UndeployOnMove: true
		UndeployOnPickup: true
		PauseOnCondition: disabled
	AmmoPool:
		Name: summon
		Ammo: 1
		Armaments: tkmdronesummon
	ReloadAmmoPool:
		AmmoPool: summon
		Delay: 1000000
		Count: 1
	WithAmmoPipsDecoration:
		Position: BottomLeft
		RequiresSelection: True
		PipCount: 1
		AmmoPool: summon
	PeriodicExplosion@projections:
		Weapon: tkmdronesummon
		RequiresCondition: summon
		AmmoPoolName: summon
	AutoDeployer:
		DeployChance: 100
		Position: BottomLeft
		RequiresSelection: True
	RenderSprites:
		PlayerPalette: playerra2
		Image: tkmengineer

#######################################
# TKM Vehicles
#######################################

tkmharv:
	Inherits: ^Tank
	Inherits@Template: ^HarvesterTemplate
	Inherits@selection: ^SelectableEconomicUnit
	Inherits@harv: ^Harvester
	Buildable:
		Queue: Vehicle, RAVehicle
		Prerequisites: ~tkmfactory, tkmrefinery
		Description: template-harvester.description
	Valued:
		Cost: 1000 #1100
	Tooltip:
		Name: template-harvester.raname
	SelectionDecorations:
	Harvester:
		BaleLoadDelay: 3
		BaleUnloadDelay: 1
		EmptyCondition: no-tiberium
	StoresResources:
		Capacity: 30
	Health:
		HP: 100000
	Repairable:
		HpPerStep: 5000
	ChangesHealth@SelfHealing:
		Step: 40
	Armor:
		Type: Medium
	Mobile:
		Speed: 90
		TurnSpeed: 18
	WithHarvestAnimation:
	GpsDot:
		String: Harvester
	FireWarheadsOnDeath:
		RequiresCondition: !no-tiberium
		Weapon: OreExplosion
	FireWarheadsOnDeath@empty:
		RequiresCondition: no-tiberium
		Weapon: UnitExplodeHarvEmpty
	WithHarvesterSpriteBody:
		ImageByFullness: tkmharv, tkmharvfull
	-WithFacingSpriteBody:
	Voiced:
		VoiceSet: RAVehicleVoice
	RenderSprites:
		Image:  tkmharv
		PlayerPalette: player_rgba

tkmas42:
	Inherits: ^Vehicle
	Inherits@Template: ^ScoutVehicleTemplate
	Inherits@EXP: ^GainsExperienceTD
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EMP: ^FrontalEMP
	Inherits@AntiInf: ^PrioritizeInfantry
	Valued:
		Cost: 400
	Tooltip:
		Name: TKM AS42
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~tkmfactory, ~!uptwinrockets, ~!upincendiaryrockets
		Queue: Vehicle, RAVehicle
		Description: actor-jeep.description
	Mobile:
		Speed: 150
		TurnSpeed: 30
	Health:
		HP: 27500
	Repairable:
		HpPerStep: 1375
	ChangesHealth@SelfHealing:
		Step: 11
	Armament:
		Weapon: Rockets
		LocalOffset: 171,0,85
		MuzzleSequence: muzzle
	WithMuzzleOverlay:
	FireWarheadsOnDeath:
		Weapon: UnitExplodeSmall
	ActorStatValues:
		Upgrades: uptwinrockets, upincendiaryrockets
	WithFacingSpriteBody:
	RenderSprites:
		Image: tkmas42
		PlayerPalette: player_rgba

tkmas42twinrockets:
	Inherits: tkmas42
	Tooltip:
		Name: TKM AS42 (Twin Rockets)
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~tkmfactory, ~uptwinrockets
		Queue: Vehicle, RAVehicle
		Description: actor-jeep.description
	Armament:
		Weapon: tkmtwinrockets
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	ActorStatValues:
		Upgrades: uptwinrockets
	RenderSprites:
		Image: tkmas42

tkmas42incendiaryrockets:
	Inherits: tkmas42
	Tooltip:
		Name: TKM AS42 (Incendiary Rockets)
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~tkmfactory, ~upincendiaryrockets
		Queue: Vehicle, RAVehicle
		Description: actor-jeep.description
	Armament:
		Weapon: tkmfirerockets
		RequiresCondition: !rank-elite
		LocalOffset: 500,0,400
	ActorStatValues:
		Upgrades: upincendiaryrockets
	RenderSprites:
		Image: tkmas42

tkmtechnical:
	Inherits: ^Vehicle
	Inherits@Template: ^ScoutVehicleTemplate
	Inherits@EXP: ^GainsExperienceTD
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EMP: ^TurretEMP
	Inherits@AntiInf: ^PrioritizeInfantry
	Valued:
		Cost: 400
	Tooltip:
		Name: TKM Technical
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~tkmfactory
		Queue: Vehicle, RAVehicle
		Description: actor-jeep.description
	Mobile:
		Speed: 150
		TurnSpeed: 30
	Health:
		HP: 27500
	Repairable:
		HpPerStep: 1375
	ChangesHealth@SelfHealing:
		Step: 11
	Turreted:
		TurnSpeed: 30
		Offset: -160,0,200
	Armament:
		Weapon: RA2GattlingMG1
		LocalOffset: 171,0,285
		MuzzleSequence: muzzle
		RequiresCondition: !up_armorpiercingbullets
	Armament@Upgrade:
		Weapon: RA2GattlingMG1
		LocalOffset: 171,0,285
		MuzzleSequence: muzzle
		RequiresCondition: up_armorpiercingbullets
	WithMuzzleOverlay:
	AttackTurreted:
	FireWarheadsOnDeath:
		Weapon: UnitExplodeSmall
	ActorStatValues:
		Upgrades: 
	WithSpriteTurret:
	RenderSprites:
		Image: tkmtechnical
		PlayerPalette: player_rgba

tkmquadtruck:
	Inherits: ^Vehicle
	Inherits@Template: ^ScoutVehicleTemplate
	Inherits@EXP: ^GainsExperienceTD
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EMP: ^TurretEMP
	Inherits@AntiInf: ^PrioritizeInfantry
	Valued:
		Cost: 400
	Tooltip:
		Name: TKM Quad Truck
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~tkmfactory, ~upberezkacloak
		Queue: Vehicle, RAVehicle
		Description: actor-jeep.description
	Mobile:
		Speed: 150
		TurnSpeed: 30
	Health:
		HP: 27500
	Repairable:
		HpPerStep: 1375
	ChangesHealth@SelfHealing:
		Step: 11
	Turreted:
		TurnSpeed: 30
		Offset: -350,0,125
	Armament:
		Weapon: RA2GattlingMG1
		LocalOffset: 171,0,85
		MuzzleSequence: muzzle
		RequiresCondition: !up_armorpiercingbullets
	Armament@Upgrade:
		Weapon: RA2GattlingMG1
		LocalOffset: 171,0,85
		MuzzleSequence: muzzle
		RequiresCondition: up_armorpiercingbullets
	WithMuzzleOverlay:
	AttackTurreted:
	FireWarheadsOnDeath:
		Weapon: UnitExplodeSmall
	ActorStatValues:
		Upgrades: 
	WithSpriteTurret:
	RenderSprites:
		Image: tkmtechnicaltruck
		PlayerPalette: player_rgba

tkmzaza:
	Inherits: ^Vehicle
	Inherits@Template: ^SupportVehicleTemplate
	Inherits@EXP: ^GainsExperienceTD
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EMP: ^TurretEMP
	Inherits@AntiInf: ^PrioritizeInfantry
	Valued:
		Cost: 1250
	Tooltip:
		Name: TKM Zaza
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~tkmfactory, ~uptitanarsenal
		Queue: Vehicle, RAVehicle
		Description: actor-jeep.description
	Mobile:
		Speed: 75
		TurnSpeed: 15
	Health:
		HP: 125000
	Repairable:
		HpPerStep: 6250
	ChangesHealth@SelfHealing:
	ChangesHealth@SelfHealing:
		Step: 11
	Turreted:
		TurnSpeed: 30
		Offset: -160,0,500
	Armament@AG:
		Weapon: HeavyAATankCannonAG
		Recoil: 85
		LocalOffset: 800,80,360, 800,-80,360
		MuzzleSequence: muzzle
	Armament@AA:
		Weapon: HeavyAATankCannonAA
		Recoil: 85
		LocalOffset: 800,80,360, 800,-80,360
		MuzzleSequence: muzzle
	FirepowerMultiplier@GattlingSpeed1:
		RequiresCondition: ammo == 3
		Modifier: 125
	FirepowerMultiplier@GattlingSpeed2:
		RequiresCondition: ammo == 2
		Modifier: 133
	FirepowerMultiplier@GattlingSpeed3:
		RequiresCondition: ammo <= 1
		Modifier: 150
	ReloadDelayMultiplier@GattlingSpeed1:
		RequiresCondition: ammo == 3
		Modifier: 90
	ReloadDelayMultiplier@GattlingSpeed2:
		RequiresCondition: ammo == 2
		Modifier: 70
	ReloadDelayMultiplier@GattlingSpeed3:
		RequiresCondition: ammo <= 1
		Modifier: 50
	RangeMultiplier@GattlingSpeed1:
		RequiresCondition: ammo == 3
		Modifier: 105
	RangeMultiplier@GattlingSpeed2:
		RequiresCondition: ammo == 2
		Modifier: 110
	RangeMultiplier@GattlingSpeed3:
		RequiresCondition: ammo <= 1
		Modifier: 115
	WithMuzzleOverlay:
	AttackTurreted:
	FireWarheadsOnDeath:
		Weapon: UnitExplodeSmall
	ActorStatValues:
		Upgrades: 
	WithSpriteTurret:
	RenderSprites:
		Image: tkmzaza
		PlayerPalette: player_rgba

technicaltank:
	Inherits: ^Tank
	Inherits@Template: ^MainBattleTankTemplate
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@EMP: ^TurretEMP
	Inherits@vo: ^AttackTurretedVoice
	Valued:
		Cost: 600
	Tooltip:
		Name: Technical Tank
	Buildable:
		BuildPaletteOrder: 190
		Prerequisites: ~tkmfactory
		Queue: Vehicle, RAVehicle
		Description: TKM Russian heavy armor.\n Strong vs Vehicles\n Weak vs Aircraft, Infantry
		BuildDuration: 550
		BuildDurationModifier: 100
	Mobile:
		Locomotor: tracked
		Speed: 126
	Health:
		HP: 80000
	Repairable:
		HpPerStep: 2637
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
	Turreted:
		TurnSpeed: 16
		Offset: -160,0,400
	Armament:
		Weapon: 70mm
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
	WithMuzzleOverlay:
	AttackTurreted:
	SelectionDecorations:
	Selectable:
	Inherits@EXT: ^ExternalConditions ##########
	AcceptsDeliveredExperience: ##########
		ValidTypes: vehicle ##########
	WithSpriteTurret:
	Voiced:
		VoiceSet: TSVehicle
	DeliversCash:
		Payload: 400
	RenderSprites:
		Image: technicaltank
		PlayerPalette: player_rgba

tkmabrams:
	Inherits: ^Tank
	Inherits@Template: ^MainBattleTankTemplate
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@Voxel: ^TKMRenderVoxel
	Inherits@EMP: ^TurretEMP
	Inherits@vo: ^AttackTurretedVoice
	Valued:
		Cost: 1000
	Tooltip:
		Name: Abrams
	Buildable:
		BuildPaletteOrder: 190
		Prerequisites: ~tkmfactory, ~upnatoarsenal
		Queue: Vehicle, RAVehicle
		Description: TKM NATO heavy armor.\n Strong vs Vehicles\n Weak vs Aircraft, Infantry
		BuildDuration: 550
		BuildDurationModifier: 100
	Mobile:
		Locomotor: tracked
		Speed: 71
	Health:
		HP: 150000
	Repairable:
		HpPerStep: 2637
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
	Turreted:
		TurnSpeed: 20 #3
	Armament:
		Weapon: 120mmDual
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
	WithMuzzleOverlay:
	AttackTurreted:
	SelectionDecorations:
	Selectable:
	Inherits@EXT: ^ExternalConditions ##########
	AcceptsDeliveredExperience: ##########
		ValidTypes: vehicle ##########
	WithVoxelBody:
	WithVoxelTurret:
	Voiced:
		VoiceSet: TSVehicle
	DeliversCash:
		Payload: 400
	RenderSprites:
		Image: tkmabrams
	RenderVoxels:
		Image: m1a2
		Scale: 1

t72:
	Inherits: ^Tank
	Inherits@Template: ^MainBattleTankTemplate
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@Voxel: ^TKMRenderVoxel
	Inherits@EMP: ^TurretEMP
	Inherits@vo: ^AttackTurretedVoice
	Valued:
		Cost: 1000
	Tooltip:
		Name: T-72M
	Buildable:
		BuildPaletteOrder: 190
		Prerequisites: ~tkmfactory, ~uptitanarsenal
		Queue: Vehicle, RAVehicle
		Description: TKM Russian heavy armor.\n Strong vs Vehicles\n Weak vs Aircraft, Infantry
		BuildDuration: 550
		BuildDurationModifier: 100
	Mobile:
		Locomotor: tracked
		Speed: 71
	Health:
		HP: 150000
	Repairable:
		HpPerStep: 2637
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
	Turreted:
		TurnSpeed: 20 #3
	Armament:
		Weapon: 120mmDual
		Recoil: 128
		RecoilRecovery: 38
		LocalOffset: 768,85,90, 768,-85,90
		MuzzleSequence: muzzle
	WithMuzzleOverlay:
	AttackTurreted:
	SelectionDecorations:
	Selectable:
	Inherits@EXT: ^ExternalConditions ##########
	AcceptsDeliveredExperience: ##########
		ValidTypes: vehicle ##########
	WithVoxelBody:
	WithVoxelTurret:
	Voiced:
		VoiceSet: TSVehicle
	DeliversCash:
		Payload: 400
	RenderSprites:
		Image: tkmt72
	RenderVoxels:
		Image: t72
		Scale: 1

tkmkatyushalauncher:
	Inherits: ^Vehicle
	Inherits@anim: ^RA2Vehicle
	Inherits@Template: ^ArtilleryTemplate
	Inherits@EXPERIENCE: ^GainsExperienceRA2
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@vo: ^AttackFrontalVoice
	Inherits@EMP: ^FrontalEMP
	Buildable:
		Queue: Vehicle, RAVehicle
		BuildPaletteOrder: 80
		Prerequisites: ~tkmfactory, tkmtechcenter
		Description: actor-latin_burrito.description
	Valued:
		Cost: 1200
	Tooltip:
		Name: Katyusha Launcher
	Health:
		HP: 35000
	Repairable:
		HpPerStep: 1750
	ChangesHealth@SelfHealing:
		Step: 14
	Armor:
		Type: Medium
	Mobile:
		Speed: 80
		TurnSpeed: 16
	Armament:
		Weapon: RA2RBurritoRocket
		LocalOffset: -250,300,125, -250,150,250, -250,-150,375, -250,-300,500, -250,300,125, -250,150,250, -250,-150,375, -250,-300,500
	Armament@PRIMARYELITE:
		Weapon: RA2RBurritoRocket
		LocalOffset: -250,-300,500, -250,-150,375, -250,150,250, -250,300,125, -250,-300,500, -250,-150,375, -250,150,250, -250,300,125
		RequiresCondition: rank-elite
	FirepowerMultiplier@RANK-1:
		Modifier: 125
	FirepowerMultiplier@RANK-2:
		Modifier: 150
	FirepowerMultiplier@RANK-3:
		Modifier: 175
	FirepowerMultiplier@RANK-ELITE:
		Modifier: 200
	AttackFrontal:
		FacingTolerance: 0
	SelectionDecorations:
	FireWarheadsOnDeath:
		Weapon: V3Explode
	Selectable:
		DecorationBounds: 1280, 1280
	Voiced:
		VoiceSet: LatinArtyVoice
	WithFacingSpriteBody:
	DeliversCash:
		Payload: 500
	ActorStatValues:
		Upgrades:
	RenderSprites:
		PlayerPalette: player_rgba

#######################################
# TKM Aircrafts
#######################################

tkmsiegechopper:
	Inherits: ^Helicopter
	Inherits@Template: ^HelicopterTemplate
	Inherits@EXPERIENCE: ^GainsExperienceRA2
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@Voxel: ^RenderVoxel
	Inherits@detect: ^GenericAirDetector
	Inherits@bot: ^BotAutoDeploySwitchMode50
	Inherits@rad: ^RA2RadShells
	Valued:
		Cost: 1500
	Tooltip:
		Name: actor-schp.name
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 98
		Prerequisites: ~tkmairpad
		Queue: Aircraft, RAAircraft
		Description: actor-schp.description
	Aircraft:
		CanForceLand: false
		InitialFacing: 896
		TurnSpeed: 30
		Speed: 150
		AltitudeVelocity: 100
		IdealSeparation: 2500
		#LandableTerrainTypes: Clear, ClearTemperat, ClearWinter, ClearJungle, ClearSnow, ClearDesert, ClearInterior, Rough, Road, Beach, Tiberium, BlueTiberium, RedTiberium, GoldTiberium, Ore, Gems, SCMinerals, ClearDune, Dune, Concrete, Sand, SpiceSand, Spice
		VTOL: true
		RepulsionSpeed: 75
		Voice: Move
		PauseOnCondition: !undeployed || disabled
	Health:
		HP: 55000
	ChangesHealth@SelfHealing:
		Step: 22
	Armament@PRIMARY:
		Weapon: BlackHawkCannon
		LocalOffset: 320,0,0
		MuzzleSequence: muzzle
		RequiresCondition: undeployed
	WithMuzzleOverlay:
	Armament@DeployTargeter:
		Weapon: deploytargeting.5c0
		RequiresCondition: botmicro
	Armament@Deployed:
		Name: deployed
		Weapon: RA160mm
		LocalOffset: 410,0,650
		RequiresCondition: !rank-elite && deployed && !upradshells
		Voice: DeployedAttack
	Armament@DeployedElite:
		Name: deployed
		Weapon: RA160mmE_elite
		LocalOffset: 410,0,650
		RequiresCondition: rank-elite && deployed && !upradshells
		Voice: DeployedAttack
	Armament@Deployedrad:
		Name: deployed
		Weapon: RA160mm_rad
		LocalOffset: 410,0,650
		RequiresCondition: !rank-elite && deployed && upradshells
		Voice: DeployedAttack
	Armament@DeployedEliterad:
		Name: deployed
		Weapon: RA160mmE_elite_rad
		LocalOffset: 410,0,650
		RequiresCondition: rank-elite && deployed && upradshells
		Voice: DeployedAttack
	RenderRangeCircle:
		RangeCircleType: vehicle
		RequiresCondition: deployed && !airborne
	Turreted:
		TurnSpeed: 30
	-AttackAircraft:
	AttackTurreted:
		Armaments: primary, deployed
		Voice: Attack
		PauseOnCondition: disabled
	HeliGrantConditionOnDeploy:
		DeployAnimation: deploy
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		DeploySound: vchodepa.wav
		UndeploySound: vchodepa.wav
		AllowedTerrainTypes: Clear, ClearTemperat, ClearWinter, ClearJungle, ClearSnow, ClearDesert, ClearInterior, Rough, Road, Beach, Tiberium, BlueTiberium, RedTiberium, GoldTiberium, Ore, Gems, SCMinerals, ClearDune, Dune, Concrete, Sand, SpiceSand, Spice, ZergSoil
		DeployVoice: Deploy
		UndeployVoice: Move
		CanDeployOnRamps: true
		SynchronizeDeployment: True
		PauseOnCondition: disabled
	RejectsOrders@deployment:
		Reject: Move
		RequiresCondition: !undeployed && !airborne
	RejectsOrders@wierdtakeoff:
		RequiresCondition: !undeployed && airborne
	-WithShadow:
	WithMoveAnimation:
		MoveSequence: move
	SelectionDecorations:
	Selectable:
		DecorationBounds: 1536, 1536
	SpawnActorOnDeath:
		Actor: yrschp.Husk
	RenderSprites:
		PlayerPalette: ra2buildinghack
	WithVoxelBody:
		Sequence: deployed
		RequiresCondition: deployed && !airborne
	WithVoxelTurret:
		RequiresCondition: deployed && !airborne
	WithVoxelHelicopterBody:
		TickRate: 1
		RequiresCondition: undeployed
	Voiced:
		VoiceSet: SiegeChopperVoice
	DeathSounds:
	FirepowerMultiplier@FirerateCompensation:
		Modifier: 33
	FirepowerMultiplier@RadShells:
		Types: deployed
	RenderSprites:
		Image: yrschp
	RenderVoxels:
		Image: yrschp
		
tkmmig:
	Inherits: ^RANeutralPlane
	Inherits@Template: ^FighterTemplate
	Inherits@exp: ^GainsExperienceRA
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@AntiInf: ^PrioritizeInfantry
	Inherits@AntiAir: ^PrioritizeAir
	Inherits@eject: ^AircraftEjectOnDeath
	Buildable:
		Queue: Aircraft, RAAircraft
		BuildPaletteOrder: 30
		Prerequisites: ~tkmairpad
		Description: actor-yak.description
	Valued:
		Cost: 800
	Tooltip:
		Name: Mig
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 15000
	Repairable:
		HpPerStep: 750
	ChangesHealth@SelfHealing:
		Step: 6
	Armament@BOMBS:
		Weapon: YakNapalm
		LocalOffset: 0,-256,-32, 0,256,-32
	Armament@PRIMARY:
		Weapon: YakChainGun
		LocalOffset: 256,-213,0
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo
		RequiresCondition: !up_advancedthermobarics
	Armament@SECONDARY:
		Name: secondary
		Weapon: YakChainGun
		LocalOffset: 256,213,0
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo
		RequiresCondition: !up_advancedthermobarics
	Armament@Upgrade1:
		Weapon: IncendiaryYakChainGun
		LocalOffset: 256,-213,0
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo
		RequiresCondition: up_advancedthermobarics
	Armament@Upgrade2:
		Name: secondary
		Weapon: IncendiaryYakChainGun
		LocalOffset: 256,213,0
		MuzzleSequence: muzzle
		PauseOnCondition: !ammo
		RequiresCondition: up_advancedthermobarics
	FirepowerMultiplier@doublecannonsandbombs:
		Modifier: 25
	AttackAircraft:
		FacingTolerance: 100
	Aircraft:
		TurnSpeed: 11
		Speed: 170
	SelectionDecorations:
	WithMuzzleOverlay:
	Contrail:
		Offset: -853,0,0
	SpawnActorOnDeath:
		Actor: tkmmig.husk
	EjectOnDeath:
		PilotActor: RAE2
	LeavesTrails:
		Offsets: -853,0,0
		MovingInterval: 2
		Image: smokey
		StationaryInterval: 2
		SpawnAtLastPosition: False
		TrailWhileStationary: True
		Type: CenterPosition
		RequiresCondition: enable-smoke
	Selectable:
		DecorationBounds: 1280, 1280, 0, 128
	Voiced:
		VoiceSet: RussianVehicleVoice
	AmmoPool:
		Ammo: 12
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 8
		Count: 1
	WithAmmoPipsDecoration:
		Position: BottomLeft
		RequiresSelection: True
		PipCount: 6
	GrantConditionOnDamageState@SmokeTrail:
		Condition: enable-smoke
	RenderSprites:
		Image: tkmmig
		PlayerPalette: raplayer

tkmmig.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: TKM Mig
	Contrail:
		Offset: -853,0,0
	Aircraft:
		TurnSpeed: 20
		Speed: 150
	LeavesTrails:
		Offsets: -853,0,0
		MovingInterval: 2
		Image: smokey
		StationaryInterval: 2
		SpawnAtLastPosition: False
		TrailWhileStationary: True
		Type: CenterPosition
	RenderSprites:
		Image: tkmmig
		PlayerPalette: raplayer

tkmdrone:
	Inherits: ^Helicopter
	Inherits@Template: ^HelicopterTemplate
	Valued:
		Cost: 25
	Tooltip:
		Name: Drone
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~unbuildable
		Queue: Aircraft, RAAircraft
		Description: Scout Unit.
	Aircraft:
		TurnSpeed: 80
		Speed: 150
	Health:
		HP: 10000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 7c0
		Type: GroundPosition
	Cloak:
	DetectCloaked:
		Range: 4224
	SelectionDecorations:
	Selectable:
		DecorationBounds: 500, 500
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	Voiced:
		VoiceSet: RobotTankVoice
	BodyOrientation:
		QuantizedFacings: 32
	-SpawnActorOnDeath:
	RenderSprites:
		Image: tkmdrone
		PlayerPalette: player_rgba